webpackJsonp([4],{KisN:function(t,e,a){"use strict";function i(t){a("sMQr")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("VQ98"),s=a("iWrX"),l=a("VU/8"),n=i,o=l(r.a,s.a,!1,n,"data-v-c74615cc",null);e.default=o.exports},VQ98:function(t,e,a){"use strict";var i=a("mtWM"),r=a.n(i),s=a("7zck");a.n(s);e.a={data:function(){return{valid:!0,items_customer:[],items_booking:[],items_airline:[],items_results:[],menu1:!1,menu2:!1,date1:null,date2:null,showFlights:!1,departure:null,arrival:null,headers_customer:[{text:"Airline",value:"airline_name"},{text:"Flight Number",value:"flight_num"},{text:"Departure Airport",value:"departure_airport"},{text:"Departure Time",value:"departure_time"},{text:"Arrival Airport",value:"arrival_airport"},{text:"Arrival Time",value:"arrival_time"},{text:"Purchase Date",value:"purchase_date"},{text:"Status",value:"status"}],headers_booking:[{text:"Customer",value:"customer_email"},{text:"Airline",value:"airline_name"},{text:"Flight Number",value:"flight_num"},{text:"Departure Airport",value:"departure_airport"},{text:"Departure Time",value:"departure_time"},{text:"Arrival Airport",value:"arrival_airport"},{text:"Arrival Time",value:"arrival_time"},{text:"Purchase Date",value:"purchase_date"},{text:"Status",value:"status"}],headers_airline:[{text:"Airline",value:"airline_name"},{text:"Flight Number",value:"flight_num"},{text:"Departure Airport",value:"departure_airport"},{text:"Departure Time",value:"departure_time"},{text:"Arrival Airport",value:"arrival_airport"},{text:"Arrival Time",value:"arrival_time"},{text:"Price",value:"price"},{text:"Status",value:"status"}],headers_results:[{text:"Flight Number",value:"flight_num"},{text:"Departure Airport",value:"departure_airport"},{text:"Departure Time",value:"departure_time"},{text:"Arrival Airport",value:"arrival_airport"},{text:"Arrival Time",value:"arrival_time"},{text:"Status",value:"status"}],today:null,onemonth:null}},created:function(){this.$login="airline_staff",console.log("this",this.$login),this.callData()},methods:{addMonths:function(t,e){return t.setMonth(t.getMonth()+e),t},getDate:function(){this.today=new Date,this.today=this.today.toISOString().substring(0,10),this.onemonth=this.addMonths(new Date,-1).toISOString().substring(0,10)},callData:function(){var t=this;if("customer"==this.$login){var e={username:"colton@nyu"};r.a.post("http://localhost:5000/api/customerflights",e).then(function(e){var a=e.data.data;console.log("res cust",a),t.items_customer=a}).catch(function(t){console.log("error =>",t)})}if("booking_agent"==this.$login){var e={username:"c"};r.a.post("http://localhost:5000/api/bookingagentflights",e).then(function(e){var a=e.data;console.log("res booking",a),t.items_booking=a.data}).catch(function(t){console.log("error =>",t)})}if("airline_staff"==this.$login){var e={username:"dirty_dan@gmail.com",date1:this.onemonth,date2:this.today};r.a.post("http://localhost:5000/api/airlinestaffflights",e).then(function(e){var a=e.data;console.log("res, airline",a.flights),t.items_airline=a.flights}).catch(function(t){console.log("error =>",t)})}},submit:function(){if(this.$refs.form.validate()){this.showFlights=!0;var t={username:"dirty_dan@gmail.com",departure_airport:this.departure,arrival_airport:this.arrival,departure_time:this.date1,arrival_time:this.date2};r.a.post("http://localhost:5000/api/airlinestaffflights",t).then(function(t){var e=t.data;console.log("search flight",e)}).catch(function(t){console.log("error getting flights")})}},clear:function(){this.$refs.form.reset()}}}},iWrX:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("h1",[t._v("Upcoming Flights next 30 days")]),a("br"),t._v(" "),"customer"==this.$login?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_customer,items:t.items_customer,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.airline_name))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.flight_num))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.purchase_date))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))])]}}])})],1):"booking_agent"==this.$login?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_booking,items:t.items_booking,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.customer_email))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.airline_name))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.flight_num))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.purchase_date))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))])]}}])})],1):"airline_staff"==this.$login?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_airline,items:t.items_airline,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.airline_name))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.flight_num))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))])]}}])}),t._v(" "),a("br"),a("br"),a("br"),t._v(" "),a("v-card",[a("br"),t._v(" "),a("h2",[t._v(" Search for all flights ")]),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs7:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Depart From",required:""},model:{value:t.departure,callback:function(e){t.departure=e},expression:"departure"}}),t._v(" "),a("v-text-field",{attrs:{label:"Arrive At",required:""},model:{value:t.arrival,callback:function(e){t.arrival=e},expression:"arrival"}}),t._v(" "),a("v-menu",{ref:"menu1",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.date1},on:{"update:returnValue":function(e){t.date1=e}},model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-text-field",{attrs:{slot:"activator",label:"Start Date",readonly:""},slot:"activator",model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu1=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.menu1.save(t.date1)}}},[t._v("OK")])],1)],1),t._v(" "),a("br"),t._v(" "),a("v-menu",{ref:"menu2",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.date2},on:{"update:returnValue":function(e){t.date2=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{attrs:{slot:"activator",label:"End Date",readonly:""},slot:"activator",model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu2=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.menu2.save(t.date2)}}},[t._v("OK")])],1)],1),t._v(" "),a("v-btn",{attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v("submit")]),t._v(" "),a("v-btn",{on:{click:t.clear}},[t._v("clear")]),t._v(" "),a("br"),a("br")],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs9:""}},[t.showFlights?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_results,items:t.items_results,"item-key":"flight_num","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.flight_num))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.departure_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_airport))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.arrival_time))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))])])]}},{key:"expand",fn:function(e){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[t._v("Customers: list all customer emails here for that flight")])],1)]}}])})],1):t._e(),t._v(" "),a("br"),a("br"),a("br")])],1)],1)],1):t._e()])],1)],1)],1)},r=[],s={render:i,staticRenderFns:r};e.a=s},sMQr:function(t,e,a){var i=a("tFKj");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("01af0b28",i,!0,{})},tFKj:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Bookings.vue",sourceRoot:""}])}});
//# sourceMappingURL=4.ed9af1f82b2fd441768f.js.map